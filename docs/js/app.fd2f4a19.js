(function(t){function e(e){for(var s,o,a=e[0],c=e[1],l=e[2],u=0,d=[];u<a.length;u++)o=a[u],r[o]&&d.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},i=[];function o(t){return a.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{"chunk-15663170":"26149564",pdfjsWorker:"783a4eb0"}[t]+".js"}function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise(function(e,s){n=r[t]=[e,s]});e.push(n[2]=s);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=o(t),i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+s+": "+i+")");o.type=s,o.request=i,n[1](o)}r[t]=void 0}};var l=setTimeout(function(){i({type:"timeout",target:c})},12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/tts/",a.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"01a6":function(t,e,n){},"07d1":function(t,e,n){"use strict";var s=n("ab4a"),r=n.n(s);r.a},"3db7":function(t,e,n){"use strict";var s=n("01a6"),r=n.n(s);r.a},5417:function(t,e,n){},5571:function(t,e,n){"use strict";var s=n("adca"),r=n.n(s);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("96cf");var s,r=n("3b8d"),i=n("cebc"),o=(n("cadf"),n("551c"),n("f751"),n("097d"),n("c5f6"),n("795b")),a=n.n(o);window.delay=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new a.a(function(t){return setTimeout(t,e)}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Number.prototype.round=function(t){var e=window.Math.pow(10,t);return window.Math.round(this*e)/e},s={socket:{url:"https://diliviri.com/",namespace:"superadmin"},http:{main:"db/"}};var c=s;n("ab8b"),n("a481"),n("6762"),n("2fdb");function l(){document.body.onmousedown=document.body.ontouchstart=function(e,n){var s=e.target.closest(".bzsto");if(s){s.style.transform&&s.style.transform.includes("translate")||(s.style.transform+="translate(0px,0px)"),s.bzOrgTransition=s.style.transition;var r,i=s.parentElement.closest(".bzstoContainer"),o=e.clientX||e.touches[0].clientX,a=t(i,7),c=t(s),l=function(t){r=(t.clientX||t.touches[0].clientX)-o,c.left+r<a.left&&(r=a.left-c.left),c.right+r>a.right&&(r=a.right-c.right),s.style.transform=s.style.transform.replace(/translate.*?\)/,"translate(".concat(r,"px, ",0,"px)"))};document.body.addEventListener("touchmove",l,{passive:!1}),document.body.onmousemove=l,document.body.onmouseup=document.body.ontouchend=function(){if(document.body.removeEventListener("touchmove",l),document.body.onmousemove=document.body.onmouseup=document.body.ontouchend=null,c.right+r===a.right){var t=new CustomEvent("unlock",{bubbles:!1});s.dispatchEvent(t)}else s.style.transform=s.style.transform.replace(/translate.*?\)/,"translate(".concat(0,"px, ",0,"px)")),s.style.transition="0.3s",s.addEventListener("transitionend",function(){return s.style.transition=s.bzOrgTransition},{once:!0})}}};var t=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,s=0,r=0;do{s+=t.offsetTop||0,r+=t.offsetLeft||0,t=t.offsetParent}while(t);return{left:r+e,top:s+e,right:n.offsetWidth+r-e,bottom:n.offsetHeight+s-e}}}var u=n("75fc"),p=n("a4bb"),d=n.n(p),h=c.http,f=d()(h),v={get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new a.a(function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(i,o){var a,c,l,p,m;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return a=t,c=e.resolve?function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.retry){t.next=9;break}return e.retry--,t.t0=i,t.next=5,v.get(a,e,n);case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:return t.abrupt("return",i({data:null,error:s}));case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}():function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.retry){t.next=2;break}return t.abrupt("return",o(s));case 2:return e.retry--,t.prev=3,t.next=6,v.get(a,e,n);case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t["catch"](3),t.abrupt("return",o(t.t0));case 12:return t.abrupt("return",l(r));case 13:case"end":return t.stop()}},t,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}(),l=e.resolve?function(t){i({data:t,error:null})}:i,t.slice(0,!0)&&(t=(e.host?h[e.host]:h[f[0]])+t),e.data&&(t+="?"+d()(e.data).reduce(function(t,n){return[].concat(Object(u["a"])(t),[n+"="+e.data[n]])},[]).join("&")),n.method="get",s.next=8,window.fetch(t,n);case 8:if(p=s.sent,p.ok){s.next=11;break}return s.abrupt("return",c(p));case 11:return s.prev=11,s.next=14,p.json();case 14:m=s.sent,s.next=29;break;case 17:return s.prev=17,s.t0=s["catch"](11),s.prev=19,s.next=22,p.text();case 22:m=s.sent,s.next=29;break;case 25:return s.prev=25,s.t1=s["catch"](19),e.retry=0,s.abrupt("return",c(s.t1));case 29:return s.abrupt("return",l(m));case 30:case"end":return s.stop()}},s,null,[[11,17],[19,25]])}));return function(t,e){return s.apply(this,arguments)}}())},post:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new a.a(function(){var s=Object(r["a"])(regeneratorRuntime.mark(function s(i,o){var a,c,l,u,p;return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return a=t,c=e.resolve?function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(s){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.retry){t.next=9;break}return e.retry--,t.t0=i,t.next=5,v.post(a,e,n);case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:return t.abrupt("return",i({data:null,error:s}));case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}():function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(s){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e.retry){t.next=2;break}return t.abrupt("return",o(s));case 2:return e.retry--,t.prev=3,t.next=6,v.post(a,e,n);case 6:r=t.sent,t.next=12;break;case 9:return t.prev=9,t.t0=t["catch"](3),t.abrupt("return",o(t.t0));case 12:return t.abrupt("return",l(r));case 13:case"end":return t.stop()}},t,null,[[3,9]])}));return function(e){return t.apply(this,arguments)}}(),l=e.resolve?function(t){i({data:t,error:null})}:o,t.slice(0,!0)&&(t=(e.host?h[e.host]:h[f[0]])+t),n.body=n.body||e.data,n.method="post",s.next=8,window.fetch(t,n);case 8:if(u=s.sent,u.ok){s.next=11;break}return s.abrupt("return",c(u));case 11:return s.prev=11,s.next=14,u.json();case 14:p=s.sent,s.next=29;break;case 17:return s.prev=17,s.t0=s["catch"](11),s.prev=19,s.next=22,u.text();case 22:p=s.sent,s.next=29;break;case 25:return s.prev=25,s.t1=s["catch"](19),e.retry=0,s.abrupt("return",c(s.t1));case 29:return s.abrupt("return",l(p));case 30:case"end":return s.stop()}},s,null,[[11,17],[19,25]])}));return function(t,e){return s.apply(this,arguments)}}())}},m=v,g=(n("87b8"),n("9180"),n("2b0e")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"opacity"}},[t.userresolved?n("div",{staticStyle:{widht:"100vw",height:"100%"},attrs:{id:"app"}},[n("div",{attrs:{id:"mainloader"}}),t.$root.user?n("div",{staticStyle:{position:"relative",height:"100%"}},[n("div",{attrs:{id:"header"}},[n("div",{staticClass:"float-right",staticStyle:{float:"right",height:"30px",width:"30px",padding:"4px"},on:{click:function(e){t.settingvis=!0}}},[n("img",{staticStyle:{height:"calc(100% - 6px)",padding:"0 3px"},attrs:{src:"img/icons/menu.png",alt:""}})]),n("div",{staticClass:"clearfix"})]),n("transition",{attrs:{name:"slideleft"}},[t.settingvis?n("settings",{on:{hide:function(e){t.settingvis=0}}}):t._e()],1),n("transition",{attrs:{name:"slideleft"}},[t.$root.showmoviedetail?n("moviedetail",{on:{hide:function(e){t.$root.showmoviedetail=0}}}):t._e()],1),n("transition",{attrs:{name:"component-"+t.transisionname}},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view",{staticClass:"container mainrouteview",attrs:{id:"pagecontainer"}}):t._e()],1)],1)],1):n("login")],1):t._e()])},y=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-content-center align-items-center flex-column",attrs:{id:"loginview"}},[t.loginerror?n("div",{staticClass:"alert alert-danger alert-dismissible fade show"},[n("strong",[t._v("error!")]),t._v(" wrong username or password !\n  ")]):t._e(),n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"float-left",attrs:{for:"usr"}},[t._v("Email:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.email,expression:"credentials.email"}],staticClass:"form-control",attrs:{type:"email",id:"usr",placeholder:"Email"},domProps:{value:t.credentials.email},on:{input:function(e){e.target.composing||t.$set(t.credentials,"email",e.target.value)}}})]),n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[n("label",{staticClass:"float-left",attrs:{for:"pass"}},[t._v("Password:")]),"checkbox"===(t.showpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control",attrs:{id:"pass",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(t.credentials.password)?t._i(t.credentials.password,null)>-1:t.credentials.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginrequest()},change:function(e){var n=t.credentials.password,s=e.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);s.checked?o<0&&t.$set(t.credentials,"password",n.concat([i])):o>-1&&t.$set(t.credentials,"password",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.credentials,"password",r)}}}):"radio"===(t.showpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control",attrs:{id:"pass",placeholder:"Password",type:"radio"},domProps:{checked:t._q(t.credentials.password,null)},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginrequest()},change:function(e){return t.$set(t.credentials,"password",null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"form-control",attrs:{id:"pass",placeholder:"Password",type:t.showpass?"text":"password"},domProps:{value:t.credentials.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginrequest()},input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),t.credentials.password?n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"6px",top:"41px",height:"20px",width:"20px"},attrs:{src:"/img/icon/"+(t.showpass?"not":"")+"see.png"},on:{click:function(e){t.showpass=!t.showpass}}}):t._e()]),n("div",{staticClass:"form-group btn btn-success",staticStyle:{width:"100%",position:"relative"},on:{click:function(e){return t.loginrequest()}}},[t._v("\n      Login\n      "),t.loading?n("img",{staticClass:"loader",attrs:{src:"img/rings.svg"}}):t._e()])])])},x=[],k={data:function(){return{loginerror:!1,showpass:!1,credentials:{email:null,password:null},loading:!1}},methods:{loginrequest:function(){var t=this;t.loginerror=!1,t.loading=!0,t.socketcall("users/login",t.credentials).then(function(e){if(e.error||!e.data)return t.loading=!1,t.loginerror=!0,window.localStorage.setItem("api_token",null);window.localStorage.setItem("api_token",e.data.message),t.socketreconnect()})}}},_=k,C=(n("5571"),n("2877")),S=Object(C["a"])(_,b,x,!1,null,null,null),O=S.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"settings"},on:{click:function(e){return t.hideme()}}},[n("div",{staticClass:"window",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"btn btn-danger",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.logout()}}},[t._v("logout")]),n("div",{staticClass:"btn btn-warning mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){return t.updateapp()}}},[t._v("Update/reset")]),n("div",{staticClass:"btn btn-info mt-2",staticStyle:{width:"calc(100% - 10px)"},on:{click:function(e){t.showpassform=!t.showpassform}}},[t._v("change password")]),t.showpassform?n("div",{staticClass:"my-2 mx-auto",staticStyle:{width:"calc(100% - 10px)"}},[n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"checkbox"},domProps:{checked:Array.isArray(t.oldpass)?t._i(t.oldpass,null)>-1:t.oldpass},on:{change:function(e){var n=t.oldpass,s=e.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);s.checked?o<0&&(t.oldpass=n.concat([i])):o>-1&&(t.oldpass=n.slice(0,o).concat(n.slice(o+1)))}else t.oldpass=r}}}):"radio"===(t.showoldpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:"radio"},domProps:{checked:t._q(t.oldpass,null)},on:{change:function(e){t.oldpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldpass,expression:"oldpass"}],staticClass:"form-control",attrs:{placeholder:"Old Password",type:t.showoldpass?"text":"password"},domProps:{value:t.oldpass},on:{input:function(e){e.target.composing||(t.oldpass=e.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.showoldpass?"not":"")+"see.png"},on:{click:function(e){t.showoldpass=!t.showoldpass}}})]),n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},["checkbox"===(t.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"checkbox"},domProps:{checked:Array.isArray(t.newpass)?t._i(t.newpass,null)>-1:t.newpass},on:{change:function(e){var n=t.newpass,s=e.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);s.checked?o<0&&(t.newpass=n.concat([i])):o>-1&&(t.newpass=n.slice(0,o).concat(n.slice(o+1)))}else t.newpass=r}}}):"radio"===(t.shownewpass?"text":"password")?n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:"radio"},domProps:{checked:t._q(t.newpass,null)},on:{change:function(e){t.newpass=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.newpass,expression:"newpass"}],staticClass:"form-control",attrs:{placeholder:"New Password",type:t.shownewpass?"text":"password"},domProps:{value:t.newpass},on:{input:function(e){e.target.composing||(t.newpass=e.target.value)}}}),n("img",{staticClass:"seeimg",staticStyle:{position:"absolute",right:"2px",top:"4px"},attrs:{src:"/img/icon/"+(t.shownewpass?"not":"")+"see.png"},on:{click:function(e){t.shownewpass=!t.shownewpass}}})]),n("div",{staticClass:"btn btn-success mt-2",staticStyle:{width:"calc(100% - 30px)"},on:{click:function(e){return t.savepassword()}}},[t._v("\n        save\n        "),t.savingpassword?n("img",{staticClass:"loader",staticStyle:{margin:"-15px 0"},attrs:{src:"img/rings.svg"}}):t._e()])]):t._e()])])},R=[],P={name:"settings",data:function(){return{showpassform:!1,shownewpass:!1,showoldpass:!1,savingpassword:!1,oldpass:null,newpass:null}},created:function(){},methods:{hideme:function(){this.$emit("hide")},logout:function(){window.localStorage.setItem("api_token",null),this.$root.user=null,this.socketreconnect(),this.hideme()},updateapp:function(){window.location.reload(!0)},savepassword:function(){var t=this;if(!t.savingpassword){if(!t.newpass)return window.toastr.warning("new password is not filled");t.savingpassword=!0,t.socketcall("users/changepass",{newpass:t.newpass,oldpass:t.oldpass}).then(function(e){if(t.savingpassword=!1,e.error)return window.toastr.error((e.error||{}).message||"couldn't save new password");window.toastr.success("password changed!"),t.oldpass=null,t.newpass=null,t.showpassform=!1})}}},computed:{}},E=P,$=(n("07d1"),Object(C["a"])(E,j,R,!1,null,"6d4afb1c",null)),I=$.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"maincontainer"}},[n("div",{staticClass:"btn close",on:{click:function(e){return t.$emit("hide")}}},[t._v("X")]),n("div",{staticClass:"videocontainer"},[n("video",{attrs:{src:t.currentlink,controls:""}})]),n("div",{staticClass:"detail"},[n("div",{staticClass:"title"},[t._v(t._s(t.movie.title))]),n("a",{attrs:{href:"http://fdc5.berlincloud.pw/storage/26/Power.S06E02.480p.WEB-DL.Hastidl.mkv"}},[t._v("downloadlink")])])])},L=[],T={data:function(){return{currentlink:"http://fdc5.berlincloud.pw/storage/26/Power.S06E01.480p.WEB-DL.Hastidl.mkv"}},components:{},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.webkitStorageInfo.requestQuota(window.PERSISTENT,1048576,function(t){window.requestFileSystem(window.PERSISTENT,t,console.log,console.error)},console.error);case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{},watch:{},computed:{movie:function(){return this.$root.movie}}},A=T,q=(n("3db7"),Object(C["a"])(A,N,L,!1,null,"63bb9fcc",null)),z=q.exports,M={data:function(){return{userresolved:!1,settingvis:!1,transisionname:"slideleft"}},components:{login:O,settings:I,moviedetail:z},created:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.getuser();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{getuser:function(){var t=this;t.$root.user={},t.userresolved=!0;var e=document.getElementById("preloader");if(e){var n=function(){window.clearTimeout(s),e&&e.parentNode.removeChild(e),e=null},s=window.setTimeout(n,3e3);e.addEventListener("transitionend",n),document.getElementById("preloader").style.opacity=0}},nav:function(t,e){var n=this.$route.meta.mainindex,s=this.$router.resolve(e).route.meta.mainindex;n!==s&&(this.transisionname=n>s?"slideright":"slideleft",this.$router.push(e))},queryhandeler:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n="string"==e.type?JSON.parse(e.data):e,n){t.next=3;break}return t.abrupt("return");case 3:s=this.$router,s.replace(Object(i["a"])({},s.currentRoute,{query:null}));case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},watch:{},computed:{}},U=M,W=(n("5c0b"),Object(C["a"])(U,w,y,!1,null,null,null)),F=W.exports,B=n("8c4f"),D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid pl-0 pr-0",staticStyle:{margin:"0",width:"100%","max-width":"100%"}},[n("div",{staticClass:"pages justify-content-between"},[n("div",{staticClass:"float-left title pl-3",on:{click:function(e){return t.changetitle()}}},[t._v("\n      "+t._s(t.story.title||"")+"\n    ")]),n("div",{staticClass:"d-flex"},[t.story.id?n("div",{staticClass:"prev pbtn",on:{click:function(e){return t.selectstory(t.story.id-1)}}},[n("img",{staticClass:"btnimg",staticStyle:{transform:"rotateZ(180deg)"},attrs:{src:"img/ttsicons/next.svg",width:"25px",height:"25px",alt:"prev"}})]):t._e(),t.story.id?n("span",[t._v(t._s(t.stories.findIndex(function(e){return e.id==t.story.id})+1)+" /\n        "+t._s((t.stories||[]).length))]):t._e(),t.story.id?n("div",{staticClass:"prev pbtn",on:{click:function(e){return t.selectstory(t.story.id+1)}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/next.svg",width:"25px",height:"25px",alt:"prev"}})]):t._e()]),t.story.id?t._e():n("span",[t._v("New")])]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currstory,expression:"currstory"}],ref:"textarea",style:{fontSize:t.pbsettings.fontsize+"px"},attrs:{id:"texteditor",readonly:t.pbsettings.follow},domProps:{value:t.currstory},on:{click:function(e){t.showpopup=null},input:function(e){e.target.composing||(t.currstory=e.target.value)}}}),n("div",{attrs:{id:"controllers"}},[n("div",{staticClass:"palyback overflow-auto"},[n("div",{staticClass:"previous reverse button",on:{click:function(e){return t.prev()}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/next.svg",alt:"prev"}})]),n("div",{staticClass:"playpause button",on:{click:function(e){t.showpopup=null,t.play()}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/"+(t.playing?"pause":"play")+".svg",alt:"play/pause"}})]),n("div",{staticClass:"next button",on:{click:function(e){return t.next()}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/next.svg",alt:"next "}})]),n("div",{staticClass:"playbacksettings button",on:{click:function(e){return t.fullscreen(!0)}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/shield.svg",alt:"playbacksettings"}})]),n("div",{staticClass:"goto reverse button",on:{click:function(e){return t.goto()}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/refresh.svg",alt:"goto button"}})]),n("div",{staticClass:"list button",class:{active:"list"==t.showpopup},on:{click:function(e){t.showpopup="list"==t.showpopup?null:"list"}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/list.svg",alt:"list"}})]),n("div",{staticClass:"bookmarks button",class:{active:"bookmark"==t.showpopup},on:{click:function(e){t.showpopup="bookmark"==t.showpopup?null:"bookmark"}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/bookmark.svg",alt:"bookmarks"}})]),n("div",{staticClass:"playbacksettings button",class:{active:"setting"==t.showpopup},on:{click:function(e){t.showpopup="setting"==t.showpopup?null:"setting"}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/settings.svg",alt:"playbacksettings"}})])])]),"setting"==t.showpopup?n("div",{staticClass:"pbsettingspopup"},[n("h5",[t._v("Playback Settings")]),n("div",{staticClass:"inputs"},[n("div",{staticClass:"checkbox"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pbsettings.follow,expression:"pbsettings.follow"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pbsettings.follow)?t._i(t.pbsettings.follow,null)>-1:t.pbsettings.follow},on:{change:function(e){var n=t.pbsettings.follow,s=e.target,r=!!s.checked;if(Array.isArray(n)){var i=null,o=t._i(n,i);s.checked?o<0&&t.$set(t.pbsettings,"follow",n.concat([i])):o>-1&&t.$set(t.pbsettings,"follow",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.pbsettings,"follow",r)}}}),t._v("Follow (lock\n          the text)\n        ")])]),n("div",{staticClass:"form-group"},[n("label",{staticStyle:{margin:"0"}},[t._v("Select Voice:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.pbsettings.voiceindex,expression:"pbsettings.voiceindex"}],staticClass:"form-control",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.pbsettings,"voiceindex",e.target.multiple?n:n[0])},function(e){t.pbsettings.voice=t.pbsettings.voices[t.pbsettings.voiceindex]}]}},t._l(t.pbsettings.voices,function(e,s){return n("option",{key:s,domProps:{value:s}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),0)]),n("div",{staticClass:"form-group numberinput"},[n("label",{attrs:{for:"speed"}},[t._v("Speed:")]),n("div",{staticClass:"decrease",on:{click:function(e){t.pbsettings.speed=t.pbsettings.speed-.1<0?0:(t.pbsettings.speed-.1).round(1)}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/minus.svg"}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pbsettings.speed,expression:"pbsettings.speed"}],staticClass:"form-control ninput",attrs:{type:"number",step:"0.1",min:"0",id:"speed"},domProps:{value:t.pbsettings.speed},on:{change:function(e){t.pbsettings.speed=t.pbsettings.speed<0?0:t.pbsettings.speed},input:function(e){e.target.composing||t.$set(t.pbsettings,"speed",e.target.value)}}}),n("div",{staticClass:"increase",on:{click:function(e){t.pbsettings.speed=t.pbsettings.speed<0?0:(t.pbsettings.speed+.1).round(1)}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/plus.svg"}})])]),n("div",{staticClass:"form-group numberinput"},[n("label",{attrs:{for:"pich"}},[t._v("Pitch:")]),n("div",{staticClass:"decrease",on:{click:function(e){t.pbsettings.pitch>0&&t.pbsettings.pitch--}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/minus.svg"}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pbsettings.pitch,expression:"pbsettings.pitch"}],staticClass:"form-control ninput",attrs:{type:"number",id:"pitch",step:"1",min:"0",max:"2"},domProps:{value:t.pbsettings.pitch},on:{change:function(e){t.pbsettings.pitch=t.pbsettings.pitch<0?0:t.pbsettings.pitch>2?2:t.pbsettings.pitch},input:function(e){e.target.composing||t.$set(t.pbsettings,"pitch",e.target.value)}}}),n("div",{staticClass:"increase",on:{click:function(e){t.pbsettings.pitch<2&&t.pbsettings.pitch++}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/plus.svg"}})])]),n("div",{staticClass:"form-group numberinput"},[n("label",{attrs:{for:"fontsize"}},[t._v("Font size:")]),n("div",{staticClass:"decrease",on:{click:function(e){t.pbsettings.fontsize--}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/minus.svg"}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pbsettings.fontsize,expression:"pbsettings.fontsize"}],staticClass:"form-control ninput",attrs:{type:"number",min:"1",step:"1",id:"fontsize"},domProps:{value:t.pbsettings.fontsize},on:{input:function(e){e.target.composing||t.$set(t.pbsettings,"fontsize",e.target.value)}}}),n("div",{staticClass:"increase",on:{click:function(e){t.pbsettings.fontsize++}}},[n("img",{staticClass:"signimg",attrs:{src:"img/ttsicons/plus.svg"}})])])])]):t._e(),"bookmark"==t.showpopup?n("div",{staticClass:"bookmarkspopup"},[n("h5",{staticStyle:{position:"relative"}},[t._v("\n      bookmarks\n      "),n("div",{staticClass:"btn btn-success py-0",staticStyle:{position:"absolute",top:"0",left:"0"},on:{click:t.addbookmark}},[t._v("\n        ADD\n      ")])]),n("ul",{staticClass:"list-group pt-1",staticStyle:{"border-top":"1px solid gray"}},t._l(t.story.bookmarks,function(e,s){return n("li",{key:s,staticClass:"list-group-item",class:{active:e.active},on:{click:function(e){return t.gotobookmark(s)}}},[n("span",{staticClass:"button",on:{click:function(e){return t.playbookmark(s)}}},[n("img",{staticClass:"btnimg",attrs:{src:"img/ttsicons/play-full.svg",alt:"play"}})]),n("span",{staticClass:"title"},[t._v(t._s(e.title))]),n("span",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.removebookmark(s)}}},[t._v("X")])])}),0)]):t._e(),"list"==t.showpopup?n("div",{staticClass:"storylistpopup"},[n("h5",{staticClass:"heading m-0"},[t._v("\n      Stories\n      "),n("div",{staticClass:"btn py-0",class:{"btn-primary":t.pbsettings.listactions,"btn-light":!t.pbsettings.listactions},staticStyle:{position:"absolute",top:"-6px",right:"-3px"},on:{click:function(e){t.pbsettings.listactions=!t.pbsettings.listactions}}},[t._v("\n        Actions\n      ")])]),n("input",{ref:"fileinput",staticStyle:{display:"none"},attrs:{type:"file",multiple:"true",directory:"true",accept:".pdf, .ztts, .txt"},on:{change:function(e){return t.importstory(e)}}}),t.pbsettings.listactions?n("div",{staticClass:"actions flexcenter mb-1 justify-content-between pt-1",staticStyle:{"border-top":"solid 1px gray"}},[n("div",{staticClass:"left flexcenter",staticStyle:{"flex-direction":"column","align-items":"flex-start"}},[n("div",{staticClass:"listbtns btn btn-info mb-1 py-0",on:{click:function(e){return t.newstory()}}},[t._v("\n          New\n        ")]),n("div",{staticClass:"listbtns btn btn-primary mb-1 py-0",on:{click:function(e){return t.$refs.fileinput.click()}}},[t._v("\n          Import file\n        ")]),n("div",{staticClass:"listbtns btn btn-primary mb-1 py-0",on:{click:function(e){return t.importfromurl()}}},[t._v("\n          Import url\n        ")])]),n("div",{staticClass:"right flexcenter",staticStyle:{"flex-direction":"column","align-items":"flex-end"}},[n("div",{staticClass:"listbtns btn btn-success mb-1 py-0",on:{click:function(e){return t.savestorycontent()}}},[t._v("\n          Save\n        ")]),n("div",{staticClass:"listbtns btn btn-warning mb-1 py-0",on:{click:function(e){return t.exportalltexts()}}},[t._v("\n          Export all\n        ")]),n("div",{staticClass:"listbtns btn btn-danger mb-1 py-0",on:{click:function(e){return t.removeall(!0)}}},[t._v("\n          Remove all\n        ")])])]):t._e(),n("ul",{staticClass:"list-group pt-1",staticStyle:{"border-top":"1px solid gray"},style:{height:t.pbsettings.listactions?"calc(100% - 138px)":"calc(100% - 32px)"}},t._l(t.stories,function(e,s){return n("li",{key:s,staticClass:"list-group-item",class:{active:e.active},on:{click:function(n){return t.selectstory(e.id)}}},[n("span",{staticClass:"title"},[t._v(t._s(e.title))]),n("span",{staticClass:"close",on:{click:function(n){return n.stopPropagation(),t.removestory(e)}}},[t._v("X")])])}),0)]):t._e(),n("div",{ref:"fullscreenele",staticClass:"\n      position-fixed\n      d-flex\n      justify-content-center\n      align-items-center\n      overflow-hidden\n    ",staticStyle:{"z-index":"100",top:"0","background-color":"black",height:"100vh",width:"100vw"},style:"height:"+(t.isfullscreen?"100vh;":"0px !important;")+"width:"+(t.isfullscreen?"100vw;":"0;")},[n("div",{staticClass:"controllers d-flex"},[n("div",{staticClass:"playpause button p-4",on:{click:function(e){e.stopPropagation(),t.showpopup=null,t.play()}}},[n("img",{staticClass:"btnimg",staticStyle:{width:"90px",height:"90px"},attrs:{src:"img/ttsicons/"+(t.playing?"pause":"play")+"-w.svg",alt:"play/pause"}})])]),n("div",{staticClass:"text-center slider position-absolute p-1 bzstoContainer",staticStyle:{bottom:"20px",height:"60px",width:"300px","max-width":"calc(100vw - 20px)",border:"2px solid gray","border-radius":"15px"}},[n("span",{staticStyle:{position:"absolute",top:"10px","font-weight":"bold",left:"99px","font-size":"25px",color:"#ffffff70"}},[t._v("Slide To Unlock")]),n("img",{ref:"slider",staticClass:"bzsto position-relative float-left",attrs:{draggable:"false",src:"img/icon/arrow.png"},on:{unlock:function(e){return t.fullscreen(!1)}}})])]),n("filterList")],1)},J=[],X=(n("4917"),n("a745")),H=n.n(X),Q=(n("7f7f"),n("5df3"),n("34ef"),n("ac6a"),n("f499")),V=n.n(Q),K=(n("7514"),n("55dd"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("testing")])}),Y=[],G={data:function(){return{}},props:{},components:{},created:function(){},mounted:function(){},methods:{},computed:{},watch:{}},Z=G,tt=Object(C["a"])(Z,K,Y,!1,null,"34562336",null),et=tt.exports,nt={name:"TTS",data:function(){var t=JSON.parse(window.localStorage.getItem("ttsstories")||"[]");t.sort(function(t,e){return t.id>e.id?1:-1});var e=t.find(function(t){return t.active})||{},n=e.id&&window.localStorage.getItem("ttsstory_"+e.id)||"";return{isfullscreen:!1,window:window,speech:window.speechSynthesis,stories:t,currstory:n,story:e,playing:!1,currentspeechutterance:null,showpopup:null,pbsettings:window.localStorage.getItem("tts-pbsetting")?JSON.parse(window.localStorage.getItem("tts-pbsetting")):{follow:!0,voiceindex:0,voices:[],voice:null,speed:1.1,pitch:1,fontsize:16,listactions:!1,bmactions:!1}}},components:{filterList:et},mounted:function(){},created:function(){var t=0,e=this;window.speechSynthesis.addEventListener("voiceschanged",function(){return console.log("voiceschanged")});var n=window.setInterval(function(){t++;var s=window.speechSynthesis.getVoices();(s.length||t>10)&&(e.pbsettings.voices=s,e.pbsettings.voice=e.pbsettings.voices[0],window.clearInterval(n))},1500)},activated:function(){d()(this.$route.query).length&&this.queryhandeler(this.$route.query)},beforeDestroy:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:{fullscreen:function(t){if(!t)return this.isfullscreen=!1,void window.document.exitFullscreen();var e=this.$refs.fullscreenele;e.requestFullscreen(),this.$refs.slider.style.transform="translate(0px,0px)"},queryhandeler:function(t){if(t.url){var e=this.$router;e.replace(Object(i["a"])({},e.currentRoute,{query:null})),this.importfromurl(t.url)}},selectstory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=this.stories.find(function(t){return t.id==e}),n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.savestory(!1,!0);case 5:if(e!=this.story.id){t.next=10;break}return n.active=!1,this.currstory="",this.story={},t.abrupt("return",this.savestory());case 10:this.story.active=!1,this.play(!1),this.story=n,this.story.active=!0,this.savestory(),this.currstory=window.localStorage.getItem("ttsstory_"+this.story.id)||"";case 16:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),play:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==t&&(this.playing=!t),this.playing)return this.speech.cancel(),void(this.playing=!this.playing);this.playing=!0,this.playingfunc()},playingfunc:function(){if(this.playing&&!this.speech.speaking){this.savestory(),this.story.position=this.story.position<1?0:this.story.position;var t=this.$refs.textarea;if(this.story.position>=t.value.length)return this.playing=!1,this.story.position=0;var e=new window.SpeechSynthesisUtterance,n=t.value.indexOf(".",this.story.position+(this.story.position?1:0)),s=t.value.indexOf("\n",this.story.position+(this.story.position?1:0)),r=window.Math.min(-1==n?this.story.position+500:n,-1==s?this.story.position+500:s);while((-1!=n||-1!=s)&&r-this.story.position<60){var i=t.value.indexOf(".",r+1),o=t.value.indexOf("\n",r+1);r=window.Math.min(-1==i?this.story.position+500:i,-1==o?this.story.position+500:o)}r-this.story.position>500&&(r=t.value.indexOf(" ",this.story.position+500)),r=-1==r?t.value.length:r;var a=this.story.position+(this.story.position?1:0);if(this.pbsettings.follow){while(["\n"," "].includes(t.value.slice(a,a+1)))a+=1;t.selectionStart=t.selectionEnd=a,t.blur(),t.focus(),t.selectionEnd=r}e.text=t.value.slice(a,r).replace(/[.]{2,}/g," . ").replace(/\*/g,""),this.pbsettings.voice&&(e.voice=this.pbsettings.voice,e.voiceURI=this.pbsettings.voice.voiceURI,e.lang=this.pbsettings.voice.lang),console.log(this.pbsettings.voice),e.rate=this.pbsettings.speed,e.pitch=this.pbsettings.pitch;var c=this;e.onend=function(){return c.playing&&(c.story.position=r),c.playingfunc()},this.currentspeechutterance=e,window.speechSynthesis.speak(e)}},newstory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,s,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"",n=r.length>1&&void 0!==r[1]?r[1]:"",s=r.length>2&&void 0!==r[2]?r[2]:0,this.story.active=!1,t.next=6,this.savestory();case 6:return this.currstory=n,this.story={},e&&(this.story.title=e),s&&(this.story.position=s),this.pbsettings.follow=!1,t.abrupt("return");case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),next:function(){if(this.story.id){this.play(!1);var t=this.$refs.textarea;this.story.position<1&&(this.story.position=0);var e=t.value.indexOf(".",this.story.position+(this.story.position?1:0)),n=t.value.indexOf("\n",this.story.position+(this.story.position?1:0)),s=window.Math.min(-1==e?this.story.position+500:e,-1==n?this.story.position+500:n);while((-1!=e||-1!=n)&&s-this.story.position<60){var r=t.value.indexOf(".",s+1),i=t.value.indexOf("\n",s+1);s=window.Math.min(-1==r?this.story.position+500:r,-1==i?this.story.position+500:i)}s-this.story.position>500&&(s=t.value.indexOf(" ",this.story.position+500)),s=-1==s?t.value.length:s,this.story.position>=t.value.length||(this.story.position=s,this.play(!0))}},prev:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.story.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,new a.a(function(t){if(s.speech.speaking){if(window.a=s.currentspeechutterance,!s.currentspeechutterance)return t();s.currentspeechutterance.onend=function(){t()},s.play(!1)}});case 4:if(e=this.$refs.textarea,this.story.position&&!(this.story.position<=0)){t.next=8;break}return this.story.position=0,t.abrupt("return");case 8:if(n=window.Math.max(e.value.lastIndexOf(".",this.story.position),e.value.lastIndexOf("\n",this.story.position)),-1!=n){t.next=13;break}return this.story.position=0,this.play(!0),t.abrupt("return");case 13:while(-1!=n&&this.story.position-n<60)n=window.Math.max(e.value.lastIndexOf(".",n-1),e.value.lastIndexOf("\n",n-1));if(this.story.position-n>500&&(n=e.value.lastIndexOf(" ",this.story.position-500)),!(-1==n||this.story.position<=0)){t.next=19;break}return this.story.position=0,this.play(!0),t.abrupt("return");case 19:this.story.position=n,this.play(!0);case 21:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goto:function(){if(this.story.id){this.play(!1);var t=this.$refs.textarea;this.story.position=t.selectionStart||0,this.play(!0)}},savestory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,s=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=!(s.length>0&&void 0!==s[0])||s[0],n=s.length>1&&void 0!==s[1]&&s[1],t.next=4,null;case 4:return e&&window.localStorage.setItem("ttsstories",V()(this.stories)),n&&this.story.id&&window.localStorage.setItem("ttsstory_"+this.story.id,this.currstory),t.abrupt("return");case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),removestory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n||confirm("are you sure to delete \n"+e.title)){t.next=2;break}return t.abrupt("return");case 2:this.stories=this.stories.filter(function(t){return e.id!=t.id}),window.localStorage.removeItem("ttsstory_"+e.id),this.story.id==e.id&&(this.story={},this.currstory=""),this.savestory(!0,!0);case 6:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),importstory:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var s,i,o,c,l,u,p,d,h,f=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=e.target.files,i=0;case 2:if(!(i<s.length)){t.next=36;break}if("application/pdf"!=s[i].type){t.next=8;break}return t.delegateYield(regeneratorRuntime.mark(function t(){var e,l,u,p,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=s[i],c=new FileReader,e=void 0,l=void 0,u=new a.a(function(t,n){e=t,l=n}),c.onload=Object(r["a"])(regeneratorRuntime.mark(function t(){var s,r,i,o,c,u,p;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return s=new Uint8Array(this.result),t.next=3,n.e("chunk-15663170").then(n.t.bind(null,"fba4",7));case 3:return r=t.sent,t.next=6,r.getDocument(s);case 6:for(i=t.sent,o=i._pdfInfo.numPages,c=[],u=1;u<o;u++)p=i.getPage(u),c.push(p.then(function(t){var e=t.getTextContent();return e.then(function(t){return t.items.map(function(t){return t.str}).join("")})}));return t.abrupt("return",a.a.all(c).then(e).catch(l));case 11:case"end":return t.stop()}},t,this)})),c.readAsArrayBuffer(o),t.prev=6,t.next=9,u;case 9:p=t.sent,d=0;case 11:if(!(d<p.length)){t.next=19;break}return t.next=14,f.newstory(s[i].name+"_"+d,p[d]);case 14:return t.next=16,f.savestorycontent(!0);case 16:d++,t.next=11;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](6),console.error(t.t0);case 24:return t.abrupt("return","continue");case 25:case"end":return t.stop()}},t,null,[[6,21]])})(),"t0",5);case 5:if(l=t.t0,"continue"!==l){t.next=8;break}return t.abrupt("continue",33);case 8:return t.next=10,s[i].text();case 10:if(u=t.sent,t.prev=11,p=JSON.parse(u),H()(p)){t.next=15;break}throw Error;case 15:d=0;case 16:if(!(d<p.length)){t.next=25;break}return h=p[d],t.next=20,this.newstory(h.title,h.story,h.position);case 20:return t.next=22,this.savestorycontent(!0);case 22:d++,t.next=16;break;case 25:t.next=33;break;case 27:return t.prev=27,t.t1=t["catch"](11),t.next=31,this.newstory(s[i].name,u);case 31:return t.next=33,this.savestorycontent(!0);case 33:i++,t.next=2;break;case 36:return t.abrupt("return");case 37:case"end":return t.stop()}},t,this,[[11,27]])}));function e(e){return t.apply(this,arguments)}return e}(),importfromurl:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,s,r,i,o,a,c,l,u;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n="",s="",r=window.localStorage.getItem("titlePath"),i=window.localStorage.getItem("contentPath"),r||(r="#up > div:nth-child(3) > div.page__extended.proximanova.default_line_height.default_size > div.page.clearfix > div.page__main.page__main-wrapper.clearfix > div.panel.clearfix.j_bl.j_bv > h1",window.localStorage.setItem("titlePath",r)),i||(i="#up > div:nth-child(3) > div.page__extended.proximanova.default_line_height.default_size > div.page.clearfix > div.page__main.page__main-wrapper.clearfix > div.panel.article.aa_eQ > div:nth-child(1) > div",window.localStorage.setItem("contentPath",i)),e=e||"";while(""===e)e=window.prompt("url to fetch");if(e){t.next=9;break}return t.abrupt("return");case 9:if(t.prev=9,!e.includes("literotica.com")){t.next=26;break}case 11:return t.next=13,fetch("https://salty-temple-23639.herokuapp.com/"+e).then(function(t){return console.log(t),200!==t.status?(alert("coudn't get url data..."),""):t.text()}).catch(console.error);case 13:if(o=t.sent,a=document.createElement("div"),a.innerHTML=o.trim(),o){n=n||(a.querySelector(r)||{}).innerText;while(!n)n=window.prompt("manual story title");c=(a.querySelector(i)||{}).innerText,c?s+=c:alert("couldn't get content!!!")}e=(window.prompt(o?"url to fetch":"couldn't get data!!!",e)||"").trim(),console.log(e);case 19:if(e){t.next=11;break}case 20:return t.next=22,this.newstory(n,s);case 22:return t.next=24,this.savestorycontent(!0);case 24:t.next=34;break;case 26:return t.next=28,fetch("https://salty-temple-23639.herokuapp.com/"+e).then(function(t){return t.text()});case 28:return l=t.sent,u=l.match(/<body[^>]*>(.|[\n\r])*<\/body>/)[0].replace(/<script([\S\s]*?)>([\S\s]*?)<\/script>/gi,"").replace(/<style([\S\s]*?)>([\S\s]*?)<\/style>/gi,"").replace(/<[^>]*>/g,""),t.next=32,this.newstory(e,u);case 32:return t.next=34,this.savestorycontent(!0);case 34:return t.abrupt("return",!0);case 37:return t.prev=37,t.t0=t["catch"](9),console.error(t.t0),t.abrupt("return",!1);case 41:case"end":return t.stop()}},t,this,[[9,37]])}));function e(e){return t.apply(this,arguments)}return e}(),changetitle:function(){if(this.story.id){var t="";while(""===t)t=window.prompt("Story title");t&&(this.story.title=t,this.savestory(!0,!0))}},savestorycontent:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this.story.title||"";while(""===e)e=window.prompt("Story title");if(e){t.next=4;break}return t.abrupt("return");case 4:return this.story.title=e,this.story.id||(this.story.id=this.stories.length?this.stories.reduce(function(t,e){return e.id>t?e.id:t},1)+1:1,this.stories.push(this.story)),this.story.active=!0,t.next=9,this.savestory(!0,!0);case 9:this.pbsettings.follow=!0;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),exportalltexts:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e="";while(""===e)e=window.prompt("Story title");if(e){t.next=4;break}return t.abrupt("return");case 4:return n=Object(u["a"])(this.stories),t.next=7,this.savestory(!0,!0);case 7:n.forEach(function(t){t.story=t.id&&window.localStorage.getItem("ttsstory_"+t.id)||""}),this.downloadfile(V()(this.stories),e+".ztts","text/plain"),window.confirm("remove all stories?")&&this.removeall();case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),removeall:function(t){if(!t||window.confirm("are you sure to remove all Stories?")){var e=this;this.stories.forEach(function(t){return e.removestory(t,!0)}),this.stories=[],this.newstory()}},downloadfile:function(t,e,n){var s=new Blob([t],{type:n,name:e});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(s,e);else{var r=window.document.createElement("a"),i=window.URL.createObjectURL(s);r.href=i,r.download=e,window.document.body.appendChild(r),r.click(),setTimeout(function(){window.document.body.removeChild(r),window.URL.revokeObjectURL(i)},0)}},addbookmark:function(){this.story.bookmarks=this.story.bookmarks||[];var t=this.$refs.textarea,e=window.Math.max(t.value.lastIndexOf(" ",t.selectionStart||0),t.value.lastIndexOf("\n",t.selectionStart||0))+1,n=window.Math.max(t.value.lastIndexOf(" ",t.selectionEnd||0),t.value.lastIndexOf("\n",t.selectionEnd||0))+1,s={start:e,end:n};s.title=t.value.slice(e,t.value.lastIndexOf(" ",n-e>35||e==n?e+35:n))+" ...",this.story.bookmarks.push(s),this.savestory(),this.$forceUpdate()},removebookmark:function(t){this.story.bookmarks=this.story.bookmarks.filter(function(e,n){return n!=t}),this.savestory(),this.$forceUpdate()},gotobookmark:function(t){var e=this.$refs.textarea,n=this.story.bookmarks[t];window.ta=e,e.selectionStart=e.selectionEnd=n.start,e.blur(),e.focus(),e.selectionEnd=n.start==n.end?n.end+1:n.end,this.showpopup=null},playbookmark:function(t){this.play(!1);var e=this.story.bookmarks[t];this.story.position=e.start,this.play(!0)}},watch:{pbsettings:{deep:!0,handler:function(t){window.localStorage.setItem("tts-pbsetting",V()(t))}}}},st=nt,rt=(n("ada5"),Object(C["a"])(st,D,J,!1,null,"4f1c4605",null)),it=rt.exports;g["a"].use(B["a"]);var ot=new B["a"]({routes:[{path:"/",name:"TTS",component:it,meta:{mainindex:3,keepAlive:!0}}]}),at=ot;window.serverconfig=c,l();var ct=n("fe3c");ct.attach(document.body),n("8aa8"),g["a"].mixin({data:function(){return Object(i["a"])({},m)}}),g["a"].config.productionTip=!0,new g["a"]({router:at,data:{user:null,showmoviedetail:!1,movie:{}},render:function(t){return t(F)}}).$mount("#app");var lt=function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.navigator.wakeLock.request("screen");case 3:window.wakeLock=t.sent,window.wakeLock.addEventListener("release",function(){console.log("Wake Lock was released")}),console.log("Wake Lock is active"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(){return t.apply(this,arguments)}}();lt();var ut=function(){null!==window.wakeLock&&"visible"===window.document.visibilityState&&lt()};window.document.addEventListener("visibilitychange",ut),window.document.addEventListener("fullscreenchange",ut)},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),r=n.n(s);r.a},"5e27":function(t,e,n){},"87b8":function(t,e,n){},"8aa8":function(t,e,n){"use strict";n.r(e);var s,r,i=n("f499"),o=n.n(i),a=(n("34ef"),n("a481"),n("14b9"),n("795b")),c=n.n(a),l=(n("cadf"),n("551c"),n("f751"),n("097d"),n("9483")),u="BJIGTwPsHQ_J1Yg_9xbUDLnrz_jTq8-nDxuU3_nXPF7-DNU645CLMBsrm73g6HefM74RSTjtLr2upgWKQ30SFLk";function p(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),s=window.atob(n),r=new Uint8Array(s.length),i=0;i<s.length;++i)r[i]=s.charCodeAt(i);return r}window.serviceWorkerPromise=new c.a(function(t){return s=t}),window.subscribeUser=function(){return new c.a(function(t,e){if("granted"==window.Notification.permission)return t('localStorage.getItem("pushNotificationCredentials")');window.serviceWorkerPromise.then(function(n){n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p(u)}).then(function(e){window.localStorage.setItem("pushNotificationCredentials",o()(e)),t(e)}).catch(e)})})},window.propforinstall=null,Object(l["a"])("".concat("/tts/","service-worker.js"),{registered:s}),(window.navigator||{}).serviceWorker&&window.navigator.serviceWorker.ready.then(function(){window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),r=t,window.propforinstall=function(){r.prompt(),r.userChoice.then(function(t){"accepted"===t.outcome&&window.subscribeUser(),r=null})}})})},9180:function(t,e,n){},ab4a:function(t,e,n){},ada5:function(t,e,n){"use strict";var s=n("5417"),r=n.n(s);r.a},adca:function(t,e,n){}});